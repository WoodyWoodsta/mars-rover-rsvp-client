<!-- app-joystick.html -->
<dom-module id="app-joystick">
  <template>
    <style>
      :host {
        --pad-icon-size: 80px;

        @apply(--layout-horizontal);

        height: var(--joystick-height, 200px);
        width: var(--joystick-width, 200px);
        padding: var(--element-padding);

        -webkit-user-select: none;
        -moz-user-select: none;
      }

      #padArea {
        @apply(--layout-vertical);
        @apply(--layout-flex);
        @apply(--layout-self-stretch);

        border-radius: 10px;
        background-color: var(--dark-normal-alpha);
      }

      #joystickContainer {
        position: relative;
        @apply(--layout-flex);

        margin: var(--container-padding);
        border: solid 2px var(--light-semiweak-alpha);
        border-radius: 7px;
      }

      #joystick {
        position: absolute;
        height: 40px;
        width: 40px;
        border-radius: 50%;
        background-color: var(--light-medium-alpha);
      }

      :host([active]) #joystick {
        -webkit-box-shadow: 0px 0px 40px 6px var(--light-medium-alpha);
        -moz-box-shadow: 0px 0px 40px 6px var(--light-medium-alpha);
        box-shadow: 0px 0px 40px 6px var(--light-medium-alpha);
      }

      :host(:not([transition-disabled])) #joystick {
        transition-property: top left;
        transition-duration: calc(var(--duration) / 2);
        transition-timing-function: var(--timing-function);
      }

      iron-icon.pad-icon {
        position: absolute;
        color: var(--light-normal-alpha);
        --iron-icon-width: var(--pad-icon-size);
        --iron-icon-height: var(--pad-icon-size);
      }

      .pad-icon.horizontal {
        top: calc(50% - (var(--pad-icon-size) / 2));
      }

      .pad-icon.vertical {
        left: calc(50% - (var(--pad-icon-size) / 2));
      }

      #padIconLeft {
        left: calc(15% - (var(--pad-icon-size) / 2));
      }

      #padIconRight {
        left: calc(85% - (var(--pad-icon-size) / 2));
      }

      #padIconUp {
        top: calc(15% - (var(--pad-icon-size) / 2));
      }

      #padIconDown {
        top: calc(85% - (var(--pad-icon-size) / 2));
      }

    </style>

    <div id="padArea">
      <div id="joystickContainer">
        <template is="dom-if" if="{{arrows}}" restamp="true">
          <iron-icon id="padIconLeft" class="pad-icon horizontal" icon="hardware:keyboard-arrow-left"></iron-icon>
          <iron-icon id="padIconRight" class="pad-icon horizontal" icon="hardware:keyboard-arrow-right"></iron-icon>
          <iron-icon id="padIconUp" class="pad-icon vertical" icon="hardware:keyboard-arrow-up"></iron-icon>
          <iron-icon id="padIconDown" class="pad-icon vertical" icon="hardware:keyboard-arrow-down"></iron-icon>
        </template>
        <div id="joystick"></div>
      </div>
    </div>

  </template>
  <script src="app-joystick.js" charset="utf-8"></script>
</dom-module>
